{"ast":null,"code":"import _objectSpread from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Navbar from'./Navbar';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import{createSettings,editSettings,deleteSetting}from'../actions/settings';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Settings(_ref){var _user$result3,_user$result4,_user$result5,_document$getElementB,_document$getElementB2,_document$getElementB3,_thisUsersSettings$2,_thisUsersSettings$3,_thisUsersSettings$4,_thisUsersSettings$5,_thisUsersSettings$6,_thisUsersSettings$7;var settings=_ref.settings;//set variables\nvar user=JSON.parse(localStorage.getItem('profile'));var w=window.innerWidth;var dispatch=useDispatch();var history=useHistory();//get current user's settings\nvar thisUsersSettings=settings.filter(function(s){var _user$result,_user$result2;return(user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.googleId)===(s===null||s===void 0?void 0:s.creator)||(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2._id)===(s===null||s===void 0?void 0:s.creator);});//state to gather settings data\nvar _useState=useState({nameOfUser:user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3.name,creator:(user===null||user===void 0?void 0:(_user$result4=user.result)===null||_user$result4===void 0?void 0:_user$result4.googleId)||(user===null||user===void 0?void 0:(_user$result5=user.result)===null||_user$result5===void 0?void 0:_user$result5._id),createdAt:new Date().toDateString(),distributers:(_document$getElementB=document.getElementById('distributers-set'))===null||_document$getElementB===void 0?void 0:_document$getElementB.innerHTML.split(': ')[1],categories:(_document$getElementB2=document.getElementById('categories-set'))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.innerHTML.split(': ')[1],threshold:(_document$getElementB3=document.getElementById('threshold-set'))===null||_document$getElementB3===void 0?void 0:_document$getElementB3.innerHTML.split(': ')[1]}),_useState2=_slicedToArray(_useState,2),settingData=_useState2[0],setSettingData=_useState2[1];//MESS WITH THESE FUNCTIONS TO SAVE THE DATA NOW THAT THERE IS A SETTINGS BOX\n//save user setting input\nvar saveSettings=function saveSettings(){if(thisUsersSettings.length>0){dispatch(editSettings(thisUsersSettings[0]._id,_objectSpread({},settingData)));alert('Settings saved!');history.push('/settings');}else{dispatch(createSettings({settingData:settingData}));alert('Settings saved!');history.push('/settings');}};//clear user's settings completely\nvar clearSettings=function clearSettings(){if(thisUsersSettings.length>0){var _thisUsersSettings$;dispatch(deleteSetting((_thisUsersSettings$=thisUsersSettings[0])===null||_thisUsersSettings$===void 0?void 0:_thisUsersSettings$._id));alert('Settings cleared!');window.location.reload();}else if(thisUsersSettings.length===0){alert('No settings created yet.');}};console.log(settingData);console.log(thisUsersSettings);//console.log(dist, cat, thres);\nreturn/*#__PURE__*/_jsx(_Fragment,{children:w>480?/*#__PURE__*/_jsx(\"div\",{className:\"settings-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"nav-section\",className:\"col-3\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-9\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dash-heading\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"take-inventory\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"How will BarFile work for you?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"current-settings\",children:thisUsersSettings.length===0?/*#__PURE__*/_jsx(\"h5\",{children:\"You have no settings yet. Please fill out the form below-- you'll be able to modify your settings at any time.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Below are your current settings. You can change them by filling out the form below.\"}),/*#__PURE__*/_jsxs(\"p\",{id:\"distributers-set\",children:[\"Distributers:\",' ',(_thisUsersSettings$2=thisUsersSettings[0])===null||_thisUsersSettings$2===void 0?void 0:_thisUsersSettings$2.distributers]}),/*#__PURE__*/_jsxs(\"p\",{id:\"threshold-set\",children:[\"Threshold:\",' ',(_thisUsersSettings$3=thisUsersSettings[0])===null||_thisUsersSettings$3===void 0?void 0:_thisUsersSettings$3.threshold]}),/*#__PURE__*/_jsxs(\"p\",{id:\"categories-set\",children:[\"Categories:\",' ',(_thisUsersSettings$4=thisUsersSettings[0])===null||_thisUsersSettings$4===void 0?void 0:_thisUsersSettings$4.categories]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveSettings,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"distributers\",children:[\"What \",/*#__PURE__*/_jsx(\"b\",{children:\"distributers\"}),\" do you use to stock your bar? List them separated by commas.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"distributers\",id:\"settings-textarea\",cols:\"30\",rows:\"5\",value:settingData.distributers,onChange:function onChange(e){return setSettingData(_objectSpread(_objectSpread({},settingData),{},{distributers:e.target.value}));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"threshold\",children:[\"What \",/*#__PURE__*/_jsx(\"b\",{children:\"threshold\"}),\" would you like to use to indicate when it's time to reorder? (i.e. reorder when inventory for an item is 30% or less)\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"threshold-input\",type:\"text\",name:\"threshold\",id:\"settings-textarea\",value:settingData.threshold,onChange:function onChange(e){return setSettingData(_objectSpread(_objectSpread({},settingData),{},{threshold:e.target.value}));}}),\"%\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"categories\",children:[\"What \",/*#__PURE__*/_jsx(\"b\",{children:\"categories\"}),\" would you like to use to organize items for your bar? List them separated by commas.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"categories\",id:\"settings-textarea\",cols:\"30\",rows:\"5\",value:settingData.categories,onChange:function onChange(e){return setSettingData(_objectSpread(_objectSpread({},settingData),{},{categories:e.target.value}));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-button-desktop\",type:\"submit\",children:\"Save Settings\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-button-desktop\",id:\"clear-settings-btn\",onClick:clearSettings,children:\"Clear All Settings\"})]})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"take-inventory\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dash-heading-m\",children:\"Settings\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-line-m\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"How will BarFile work for you?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"current-settings\",children:thisUsersSettings.length===0?/*#__PURE__*/_jsx(\"h5\",{children:\"You have no settings yet. Please fill out the form below-- you'll be able to modify your settings at any time.\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Below are your current settings. You can change them by filling out the form below.\"}),/*#__PURE__*/_jsxs(\"p\",{id:\"distributers-set\",children:[\"Distributers:\",' ',(_thisUsersSettings$5=thisUsersSettings[0])===null||_thisUsersSettings$5===void 0?void 0:_thisUsersSettings$5.distributers]}),/*#__PURE__*/_jsxs(\"p\",{id:\"threshold-set\",children:[\"Threshold:\",' ',(_thisUsersSettings$6=thisUsersSettings[0])===null||_thisUsersSettings$6===void 0?void 0:_thisUsersSettings$6.threshold]}),/*#__PURE__*/_jsxs(\"p\",{id:\"categories-set\",children:[\"Categories:\",' ',(_thisUsersSettings$7=thisUsersSettings[0])===null||_thisUsersSettings$7===void 0?void 0:_thisUsersSettings$7.categories]})]})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveSettings,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"distributers\",children:[\"What \",/*#__PURE__*/_jsx(\"b\",{children:\"distributers\"}),\" do you use to stock your bar? List them separated by commas.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"distributers\",id:\"settings-textarea\",cols:\"30\",rows:\"5\",value:settingData.distributers,onChange:function onChange(e){return setSettingData(_objectSpread(_objectSpread({},settingData),{},{distributers:e.target.value}));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"threshold\",children:[\"What \",/*#__PURE__*/_jsx(\"b\",{children:\"threshold\"}),\" would you like to use to indicate when it's time to reorder? (i.e. reorder when inventory for an item is 30% or less)\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"threshold-input\",type:\"text\",name:\"threshold\",id:\"settings-textarea\",value:settingData.threshold,onChange:function onChange(e){return setSettingData(_objectSpread(_objectSpread({},settingData),{},{threshold:e.target.value}));}}),\"%\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"categories\",children:[\"What \",/*#__PURE__*/_jsx(\"b\",{children:\"categories\"}),\" would you like to use to organize items for your bar? List them separated by commas.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{name:\"categories\",id:\"settings-textarea\",cols:\"30\",rows:\"5\",value:settingData.categories,onChange:function onChange(e){return setSettingData(_objectSpread(_objectSpread({},settingData),{},{categories:e.target.value}));}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-button\",type:\"submit\",children:\"Save Settings\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"settings-button\",id:\"clear-settings-btn-m\",onClick:clearSettings,children:\"Clear All Settings\"})]})]})]})});}export default Settings;","map":{"version":3,"sources":["/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Settings.js"],"names":["React","useState","Navbar","useDispatch","useHistory","createSettings","editSettings","deleteSetting","Settings","settings","user","JSON","parse","localStorage","getItem","w","window","innerWidth","dispatch","history","thisUsersSettings","filter","s","result","googleId","creator","_id","nameOfUser","name","createdAt","Date","toDateString","distributers","document","getElementById","innerHTML","split","categories","threshold","settingData","setSettingData","saveSettings","length","alert","push","clearSettings","location","reload","console","log","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Navbar from './Navbar';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n\tcreateSettings,\n\teditSettings,\n\tdeleteSetting,\n} from '../actions/settings';\n\nfunction Settings({ settings }) {\n\t//set variables\n\tconst user = JSON.parse(localStorage.getItem('profile'));\n\tvar w = window.innerWidth;\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\n\t//get current user's settings\n\tconst thisUsersSettings = settings.filter(\n\t\t(s) =>\n\t\t\tuser?.result?.googleId === s?.creator ||\n\t\t\tuser?.result?._id === s?.creator,\n\t);\n\n\t//state to gather settings data\n\tconst [settingData, setSettingData] = useState({\n\t\tnameOfUser: user?.result?.name,\n\t\tcreator: user?.result?.googleId || user?.result?._id,\n\t\tcreatedAt: new Date().toDateString(),\n\t\tdistributers: document\n\t\t\t.getElementById('distributers-set')\n\t\t\t?.innerHTML.split(': ')[1],\n\t\tcategories: document\n\t\t\t.getElementById('categories-set')\n\t\t\t?.innerHTML.split(': ')[1],\n\t\tthreshold: document\n\t\t\t.getElementById('threshold-set')\n\t\t\t?.innerHTML.split(': ')[1],\n\t});\n\n\t//MESS WITH THESE FUNCTIONS TO SAVE THE DATA NOW THAT THERE IS A SETTINGS BOX\n\n\t//save user setting input\n\tconst saveSettings = () => {\n\t\tif (thisUsersSettings.length > 0) {\n\t\t\tdispatch(\n\t\t\t\teditSettings(thisUsersSettings[0]._id, {\n\t\t\t\t\t...settingData,\n\t\t\t\t}),\n\t\t\t);\n\t\t\talert('Settings saved!');\n\t\t\thistory.push('/settings');\n\t\t} else {\n\t\t\tdispatch(\n\t\t\t\tcreateSettings({\n\t\t\t\t\tsettingData,\n\t\t\t\t}),\n\t\t\t);\n\t\t\talert('Settings saved!');\n\t\t\thistory.push('/settings');\n\t\t}\n\t};\n\n\t//clear user's settings completely\n\tconst clearSettings = () => {\n\t\tif (thisUsersSettings.length > 0) {\n\t\t\tdispatch(deleteSetting(thisUsersSettings[0]?._id));\n\t\t\talert('Settings cleared!');\n\t\t\twindow.location.reload();\n\t\t} else if (thisUsersSettings.length === 0) {\n\t\t\talert('No settings created yet.');\n\t\t}\n\t};\n\n\tconsole.log(settingData);\n\tconsole.log(thisUsersSettings);\n\t//console.log(dist, cat, thres);\n\n\treturn (\n\t\t<>\n\t\t\t{w > 480 ? (\n\t\t\t\t<div className='settings-container'>\n\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t<div id='nav-section' className='col-3'>\n\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='col-9'>\n\t\t\t\t\t\t\t<h1 className='dash-heading'>Settings</h1>\n\t\t\t\t\t\t\t<hr className='dash-line' />\n\t\t\t\t\t\t\t<div className='take-inventory'>\n\t\t\t\t\t\t\t\t<h3>How will BarFile work for you?</h3>\n\t\t\t\t\t\t\t\t<div className='current-settings'>\n\t\t\t\t\t\t\t\t\t{thisUsersSettings.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\tYou have no settings yet. Please\n\t\t\t\t\t\t\t\t\t\t\tfill out the form below-- you'll be\n\t\t\t\t\t\t\t\t\t\t\table to modify your settings at any\n\t\t\t\t\t\t\t\t\t\t\ttime.\n\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\t\tBelow are your current settings.\n\t\t\t\t\t\t\t\t\t\t\t\tYou can change them by filling\n\t\t\t\t\t\t\t\t\t\t\t\tout the form below.\n\t\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t\t<p id='distributers-set'>\n\t\t\t\t\t\t\t\t\t\t\t\tDistributers:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.distributers\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p id='threshold-set'>\n\t\t\t\t\t\t\t\t\t\t\t\tThreshold:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.threshold\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p id='categories-set'>\n\t\t\t\t\t\t\t\t\t\t\t\tCategories:{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tthisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.categories\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<form onSubmit={saveSettings}>\n\t\t\t\t\t\t\t\t\t<label htmlFor='distributers'>\n\t\t\t\t\t\t\t\t\t\tWhat <b>distributers</b> do you use to\n\t\t\t\t\t\t\t\t\t\tstock your bar? List them separated by\n\t\t\t\t\t\t\t\t\t\tcommas.\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tname='distributers'\n\t\t\t\t\t\t\t\t\t\tid='settings-textarea'\n\t\t\t\t\t\t\t\t\t\tcols='30'\n\t\t\t\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\t\t\t\tvalue={settingData.distributers}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetSettingData({\n\t\t\t\t\t\t\t\t\t\t\t\t...settingData,\n\t\t\t\t\t\t\t\t\t\t\t\tdistributers: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<label htmlFor='threshold'>\n\t\t\t\t\t\t\t\t\t\tWhat <b>threshold</b> would you like to\n\t\t\t\t\t\t\t\t\t\tuse to indicate when it's time to\n\t\t\t\t\t\t\t\t\t\treorder? (i.e. reorder when inventory\n\t\t\t\t\t\t\t\t\t\tfor an item is 30% or less)\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName='threshold-input'\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tname='threshold'\n\t\t\t\t\t\t\t\t\t\tid='settings-textarea'\n\t\t\t\t\t\t\t\t\t\tvalue={settingData.threshold}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetSettingData({\n\t\t\t\t\t\t\t\t\t\t\t\t...settingData,\n\t\t\t\t\t\t\t\t\t\t\t\tthreshold: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t%\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<label htmlFor='categories'>\n\t\t\t\t\t\t\t\t\t\tWhat <b>categories</b> would you like to\n\t\t\t\t\t\t\t\t\t\tuse to organize items for your bar? List\n\t\t\t\t\t\t\t\t\t\tthem separated by commas.\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\tname='categories'\n\t\t\t\t\t\t\t\t\t\tid='settings-textarea'\n\t\t\t\t\t\t\t\t\t\tcols='30'\n\t\t\t\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\t\t\t\tvalue={settingData.categories}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tsetSettingData({\n\t\t\t\t\t\t\t\t\t\t\t\t...settingData,\n\t\t\t\t\t\t\t\t\t\t\t\tcategories: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName='settings-button-desktop'\n\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSave Settings\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='settings-button-desktop'\n\t\t\t\t\t\t\t\t\tid='clear-settings-btn'\n\t\t\t\t\t\t\t\t\tonClick={clearSettings}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tClear All Settings\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<div className='take-inventory'>\n\t\t\t\t\t\t<h1 className='dash-heading-m'>Settings</h1>\n\t\t\t\t\t\t<hr className='dash-line-m' />\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>How will BarFile work for you?</h3>\n\t\t\t\t\t\t\t<div className='current-settings'>\n\t\t\t\t\t\t\t\t{thisUsersSettings.length === 0 ? (\n\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\tYou have no settings yet. Please fill\n\t\t\t\t\t\t\t\t\t\tout the form below-- you'll be able to\n\t\t\t\t\t\t\t\t\t\tmodify your settings at any time.\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\t\tBelow are your current settings. You\n\t\t\t\t\t\t\t\t\t\t\tcan change them by filling out the\n\t\t\t\t\t\t\t\t\t\t\tform below.\n\t\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t\t\t<p id='distributers-set'>\n\t\t\t\t\t\t\t\t\t\t\tDistributers:{' '}\n\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]?.distributers}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p id='threshold-set'>\n\t\t\t\t\t\t\t\t\t\t\tThreshold:{' '}\n\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]?.threshold}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p id='categories-set'>\n\t\t\t\t\t\t\t\t\t\t\tCategories:{' '}\n\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]?.categories}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<form onSubmit={saveSettings}>\n\t\t\t\t\t\t\t\t<label htmlFor='distributers'>\n\t\t\t\t\t\t\t\t\tWhat <b>distributers</b> do you use to stock\n\t\t\t\t\t\t\t\t\tyour bar? List them separated by commas.\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tname='distributers'\n\t\t\t\t\t\t\t\t\tid='settings-textarea'\n\t\t\t\t\t\t\t\t\tcols='30'\n\t\t\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\t\t\tvalue={settingData.distributers}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetSettingData({\n\t\t\t\t\t\t\t\t\t\t\t...settingData,\n\t\t\t\t\t\t\t\t\t\t\tdistributers: e.target.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<label htmlFor='threshold'>\n\t\t\t\t\t\t\t\t\tWhat <b>threshold</b> would you like to use\n\t\t\t\t\t\t\t\t\tto indicate when it's time to reorder? (i.e.\n\t\t\t\t\t\t\t\t\treorder when inventory for an item is 30% or\n\t\t\t\t\t\t\t\t\tless)\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName='threshold-input'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tname='threshold'\n\t\t\t\t\t\t\t\t\tid='settings-textarea'\n\t\t\t\t\t\t\t\t\tvalue={settingData.threshold}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetSettingData({\n\t\t\t\t\t\t\t\t\t\t\t...settingData,\n\t\t\t\t\t\t\t\t\t\t\tthreshold: e.target.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t%\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<label htmlFor='categories'>\n\t\t\t\t\t\t\t\t\tWhat <b>categories</b> would you like to use\n\t\t\t\t\t\t\t\t\tto organize items for your bar? List them\n\t\t\t\t\t\t\t\t\tseparated by commas.\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tname='categories'\n\t\t\t\t\t\t\t\t\tid='settings-textarea'\n\t\t\t\t\t\t\t\t\tcols='30'\n\t\t\t\t\t\t\t\t\trows='5'\n\t\t\t\t\t\t\t\t\tvalue={settingData.categories}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetSettingData({\n\t\t\t\t\t\t\t\t\t\t\t...settingData,\n\t\t\t\t\t\t\t\t\t\t\tcategories: e.target.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName='settings-button'\n\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSave Settings\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName='settings-button'\n\t\t\t\t\t\t\t\tid='clear-settings-btn-m'\n\t\t\t\t\t\t\t\tonClick={clearSettings}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tClear All Settings\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}