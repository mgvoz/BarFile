{"ast":null,"code":"import _regeneratorRuntime from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch}from'react-redux';import{useHistory}from'react-router-dom';import{signin,signup}from'../../actions/auth';import HomeDesktop from'./HomeDesktop';import HomeMobile from'./HomeMobile';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){var dispatch=useDispatch();var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSignup=_useState2[0],setIsSignup=_useState2[1];var _useState3=useState({name:'',email:'',password:'',confirmPassword:''}),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];//switch between log in and sign up\nvar switchMode=function switchMode(){setIsSignup(!isSignup);};//submit log in or sign up\nvar handleSubmit=function handleSubmit(e){e.preventDefault();if(isSignup){dispatch(signup(userData,history));}else{try{dispatch(signin(userData,history));}catch(err){alert('Username or password incorrect.');}}};//capture user input\nvar handleChange=function handleChange(e){setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},e.target.name,e.target.value)));};//google sign in- success and failure\nvar googleSuccess=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){var result,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:result=res===null||res===void 0?void 0:res.profileObj;token=res===null||res===void 0?void 0:res.tokenId;try{dispatch({type:'AUTH',data:{result:result,token:token}});history.push('/dashboard');}catch(error){console.log(error);}case 3:case\"end\":return _context.stop();}}},_callee);}));return function googleSuccess(_x){return _ref.apply(this,arguments);};}();var googleFailure=function googleFailure(error){isSignup?console.log('Google signup was unsuccessful. Try again later.',error):console.log('Google sign in was unsuccessful. Try again later.',error);};return/*#__PURE__*/_jsx(_Fragment,{children:window.innerWidth>=1000?/*#__PURE__*/_jsx(HomeDesktop,{switchMode:switchMode,googleSuccess:googleSuccess,googleFailure:googleFailure,handleChange:handleChange,handleSubmit:handleSubmit,isSignup:isSignup}):/*#__PURE__*/_jsx(HomeMobile,{switchMode:switchMode,googleSuccess:googleSuccess,googleFailure:googleFailure,handleChange:handleChange,handleSubmit:handleSubmit,isSignup:isSignup})});}export default Home;","map":{"version":3,"sources":["/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Home/Home.js"],"names":["React","useState","useDispatch","useHistory","signin","signup","HomeDesktop","HomeMobile","Home","dispatch","history","isSignup","setIsSignup","name","email","password","confirmPassword","userData","setUserData","switchMode","handleSubmit","e","preventDefault","err","alert","handleChange","target","value","googleSuccess","res","result","profileObj","token","tokenId","type","data","push","error","console","log","googleFailure","window","innerWidth"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { signin, signup } from '../../actions/auth';\nimport HomeDesktop from './HomeDesktop';\nimport HomeMobile from './HomeMobile';\n\nfunction Home() {\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst [isSignup, setIsSignup] = useState(false);\n\tconst [userData, setUserData] = useState({\n\t\tname: '',\n\t\temail: '',\n\t\tpassword: '',\n\t\tconfirmPassword: '',\n\t});\n\n\t//switch between log in and sign up\n\tconst switchMode = () => {\n\t\tsetIsSignup(!isSignup);\n\t};\n\n\t//submit log in or sign up\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tif (isSignup) {\n\t\t\tdispatch(signup(userData, history));\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tdispatch(signin(userData, history));\n\t\t\t} catch (err) {\n\t\t\t\talert('Username or password incorrect.');\n\t\t\t}\n\t\t}\n\t};\n\n\t//capture user input\n\tconst handleChange = (e) => {\n\t\tsetUserData({ ...userData, [e.target.name]: e.target.value });\n\t};\n\n\t//google sign in- success and failure\n\tconst googleSuccess = async (res) => {\n\t\tconst result = res?.profileObj;\n\t\tconst token = res?.tokenId;\n\n\t\ttry {\n\t\t\tdispatch({ type: 'AUTH', data: { result, token } });\n\t\t\thistory.push('/dashboard');\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\tconst googleFailure = (error) => {\n\t\tisSignup\n\t\t\t? console.log(\n\t\t\t\t\t'Google signup was unsuccessful. Try again later.',\n\t\t\t\t\terror,\n\t\t\t  )\n\t\t\t: console.log(\n\t\t\t\t\t'Google sign in was unsuccessful. Try again later.',\n\t\t\t\t\terror,\n\t\t\t  );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{window.innerWidth >= 1000 ? (\n\t\t\t\t<HomeDesktop\n\t\t\t\t\tswitchMode={switchMode}\n\t\t\t\t\tgoogleSuccess={googleSuccess}\n\t\t\t\t\tgoogleFailure={googleFailure}\n\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\tisSignup={isSignup}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<HomeMobile\n\t\t\t\t\tswitchMode={switchMode}\n\t\t\t\t\tgoogleSuccess={googleSuccess}\n\t\t\t\t\tgoogleFailure={googleFailure}\n\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\t\tisSignup={isSignup}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}