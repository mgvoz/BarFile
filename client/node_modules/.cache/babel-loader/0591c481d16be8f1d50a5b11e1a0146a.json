{"ast":null,"code":"import _objectSpread from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Suspense}from'react';import Navbar from'./Navbar';import{useDispatch}from'react-redux';import{saveItem,editItem}from'../actions/inventory';import Loading from'./Loading';//const Stream = React.lazy(() => import('./Stream'));\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Inventory(_ref){var _user$result,_user$result2,_user$result3,_thisUsersSettings$,_thisUsersSettings$$d,_thisUsersSettings$2,_thisUsersSettings$2$,_thisUsersSettings$3,_thisUsersSettings$4,_thisUsersSettings$5,_thisUsersSettings$6;var items=_ref.items,settings=_ref.settings;/*****************************************************\n\t- add onChange event to slider to show quantity and add to state\n\t- add API product lookup to add product name to state\n\t- add functionality to select individual items and save them with itemData state- replace 'this product' in form with product selected\n\t \n\t******************************************************/ //set variables\nvar w=window.innerWidth;var dispatch=useDispatch();var user=JSON.parse(localStorage.getItem('profile'));var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),scannedItems=_useState4[0],setScannedItems=_useState4[1];var _useState5=useState({nameOfUser:user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.name,creator:(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2.googleId)||(user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3._id),lastUpdated:new Date().toDateString(),quantityRemaining:'',category:'',distributer:'',nameOfItem:''}),_useState6=_slicedToArray(_useState5,2),itemData=_useState6[0],setItemData=_useState6[1];//set loading screen\nuseEffect(function(){setTimeout(function(){return setLoading(false);},4000);},[]);//get current user's items\nvar thisUsersItems=items.filter(function(i){var _user$result4,_user$result5;return(user===null||user===void 0?void 0:(_user$result4=user.result)===null||_user$result4===void 0?void 0:_user$result4.googleId)===(i===null||i===void 0?void 0:i.creator)||(user===null||user===void 0?void 0:(_user$result5=user.result)===null||_user$result5===void 0?void 0:_user$result5._id)===(i===null||i===void 0?void 0:i.creator);});//get current user's settings\nvar thisUsersSettings=settings.filter(function(s){var _user$result6,_user$result7;return(user===null||user===void 0?void 0:(_user$result6=user.result)===null||_user$result6===void 0?void 0:_user$result6.googleId)===(s===null||s===void 0?void 0:s.creator)||(user===null||user===void 0?void 0:(_user$result7=user.result)===null||_user$result7===void 0?void 0:_user$result7._id)===(s===null||s===void 0?void 0:s.creator);});var distributers=(_thisUsersSettings$=thisUsersSettings[0])===null||_thisUsersSettings$===void 0?void 0:(_thisUsersSettings$$d=_thisUsersSettings$.distributers[0])===null||_thisUsersSettings$$d===void 0?void 0:_thisUsersSettings$$d.split(', ');var categories=(_thisUsersSettings$2=thisUsersSettings[0])===null||_thisUsersSettings$2===void 0?void 0:(_thisUsersSettings$2$=_thisUsersSettings$2.categories[0])===null||_thisUsersSettings$2$===void 0?void 0:_thisUsersSettings$2$.split(', ');//access camera on device and stream\nvar getVideoStream=function getVideoStream(){navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:'environment'}}}).then(function(stream){document.getElementById('video').srcObject=stream;}).catch(function(error){return console.log(error);});};var list=[];var find=function find(){navigator.mediaDevices.enumerateDevices().then(function(devices){for(var d in devices){if(d.kind==='videoinput'){console.log(d);}}}).catch(function(err){console.log(err.name+': '+err.message);});};//scan barcode from live camera stream\n/*const barcodeDetector = new window.BarcodeDetector({\n\t\tformats: [\n\t\t\t'ean_13',\n\t\t\t'ean_8',\n\t\t\t'upc_a',\n\t\t\t'upc_e',\n\t\t\t'code_128',\n\t\t\t'code_39',\n\t\t\t'code_93',\n\t\t\t'codabar',\n\t\t\t'itf',\n\t\t],\n\t});\n\n\tconst findBarcode = () => {\n\t\tif (document.getElementById('video')) {\n\t\t\tbarcodeDetector\n\t\t\t\t.detect(document.getElementById('video'))\n\t\t\t\t.then((data) => {\n\t\t\t\t\tif (data.length > 0) {\n\t\t\t\t\t\tcode = data[0].rawValue;\n\t\t\t\t\t\tapiLookup(code);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t});\n\t\t}\n\t};\n\n\t//'https://api.apigenius.io/products/lookup?upc=' + code + '&api_key=' + key;\n\t// titos - 619947000013\n\n\t//api barcode lookup\n\tlet code;\n\tlet key = '91990a226f804b428cb02a40c9f5b1d9';\n\tconst apiLookup = (code) => {\n\t\tconst url =\n\t\t\t'https://api.apigenius.io/products/lookup?upc=' +\n\t\t\tcode +\n\t\t\t'&api_key=' +\n\t\t\tkey;\n\t\tfetch(url, {\n\t\t\tmode: 'no-cors',\n\t\t\tbody: JSON.stringify(),\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tsetScannedItems([\n\t\t\t\t\t...scannedItems,\n\t\t\t\t\tresponse.text(), //?.items?.title,\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tsetInterval(findBarcode, 2000);*/ //slider/form\nvar saveItemData=function saveItemData(){var match=thisUsersItems.filter(function(item){return item.nameOfItem===itemData.nameOfItem;});if(match){dispatch(editItem(match._id,_objectSpread({},itemData)));}else{dispatch(saveItem({itemData:itemData}));}alert('Item quantity saved successfully.');};console.log(itemData);console.log(scannedItems);return/*#__PURE__*/_jsx(_Fragment,{children:loading===false?/*#__PURE__*/_jsx(_Fragment,{children:w>480?/*#__PURE__*/_jsx(\"div\",{className:\"inventory-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"nav-section\",className:\"col-3\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-9\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dash-heading\",children:\"Take Inventory\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-line\"}),/*#__PURE__*/_jsx(\"button\",{onClick:find,children:\"show devices\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"list: \",list]}),/*#__PURE__*/_jsxs(\"div\",{className:\"take-inventory\",children:[thisUsersSettings.length===0?/*#__PURE__*/_jsx(\"b\",{className:\"inventory-settings\",children:\"Attention! Please set your distributers, threshold, and categories on the Settings page before taking inventory.\"}):null,/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scan barcode:\"}),/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"video\",{id:\"video\",className:\"video-view\",autoPlay:true,onCanPlay:getVideoStream(),children:\"Video stream not available.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scanned item(s):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-info\",children:/*#__PURE__*/_jsx(\"ol\",{children:scannedItems.map(function(item,key){return/*#__PURE__*/_jsx(\"li\",{className:\"info-text\",children:'  '+item},key);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-scans\",onClick:function onClick(){return setScannedItems([]);},children:\"Clear Scanned Items\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-amt\",children:[\"Click on a scanned item above, and use the slider below to represent quantity remaining. If the quantity remaining is at or below your set threshold, this item will be added to you order list.\",/*#__PURE__*/_jsx(\"div\",{className:\"btl-img\",children:\"(bottle shape and slider here, onClick of item above, show bottle shape, store item info and quatity to DB)\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveItemData,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"quantity\",children:[\"Quantity: \",/*#__PURE__*/_jsx(\"b\",{children:+'%'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"threshold-info\",children:thisUsersSettings.length===0?'Please set your desired distributers, threshold, and categories on the Settings page.':'Your threshold is currently set to '+thisUsersSettings[0].threshold+'%.'}),/*#__PURE__*/_jsx(\"p\",{children:\"Which distributer do you typically order this product from?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"distributer\",id:\"distributer-select\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{distributer:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Distributer\"}),((_thisUsersSettings$3=thisUsersSettings[0])===null||_thisUsersSettings$3===void 0?void 0:_thisUsersSettings$3.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Distributers Available - Set your Distributers on the Settings Page.\"}):distributers===null||distributers===void 0?void 0:distributers.map(function(dist,key){return/*#__PURE__*/_jsx(\"option\",{value:dist,children:dist},key);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Which category does this product belong to?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category-select\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{category:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Category\"}),((_thisUsersSettings$4=thisUsersSettings[0])===null||_thisUsersSettings$4===void 0?void 0:_thisUsersSettings$4.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Categories Available - Set your Categories on the Settings Page.\"}):categories===null||categories===void 0?void 0:categories.map(function(cat,key){return/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},key);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"save-quantity\",type:\"submit\",children:\"Save This Item\"})]})]})]})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-container-m\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dash-heading-m\",children:\"Take Inventory\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-line-m\"}),/*#__PURE__*/_jsx(\"button\",{onClick:find,children:\"show devices\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"list: \",list]}),/*#__PURE__*/_jsxs(\"div\",{className:\"take-inventory\",children:[thisUsersSettings.length===0?/*#__PURE__*/_jsx(\"b\",{className:\"inventory-settings\",children:\"Attention! Please set your distributers, threshold, and categories on the Settings page before taking inventory.\"}):null,/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scan barcode:\"}),/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(\"video\",{id:\"video\",className:\"video-view\",autoPlay:true,onCanPlay:getVideoStream(),children:\"Video stream not available.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scanned item(s):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-info\",children:/*#__PURE__*/_jsx(\"ol\",{children:scannedItems.map(function(item,key){return/*#__PURE__*/_jsx(\"li\",{className:\"info-text\",children:'  '+item},key);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-scans-m\",onClick:function onClick(){return setScannedItems([]);},children:\"Clear Scanned Items\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-amt-m\",children:[\"Click on a scanned item above, and use the slider below to represent quantity remaining. If the quantity remaining is at or below your set threshold, this item will be added to you order list.\",/*#__PURE__*/_jsx(\"div\",{className:\"btl-img\",children:\"(bottle shape and slider here, onClick of item above, show bottle shape, store item info and quatity to DB)\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveItemData,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"quantity\",children:[\"Quantity: \",/*#__PURE__*/_jsx(\"b\",{children:+'%'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"threshold-info\",children:thisUsersSettings.length===0?'Please set your desired distributers, threshold, and categories on the Settings page.':'Your threshold is currently set to '+thisUsersSettings[0].threshold+'%.'}),/*#__PURE__*/_jsx(\"p\",{children:\"Which distributer do you typically order this product from?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"distributer\",id:\"distributer-select-m\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{distributer:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Distributer\"}),((_thisUsersSettings$5=thisUsersSettings[0])===null||_thisUsersSettings$5===void 0?void 0:_thisUsersSettings$5.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Distributers Available - Set your Distributers on the Settings Page.\"}):distributers===null||distributers===void 0?void 0:distributers.map(function(dist,key){return/*#__PURE__*/_jsx(\"option\",{value:dist,children:dist},key);})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Which category does this product belong to?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category-select-m\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{category:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Category\"}),((_thisUsersSettings$6=thisUsersSettings[0])===null||_thisUsersSettings$6===void 0?void 0:_thisUsersSettings$6.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Categories Available - Set your Categories on the Settings Page.\"}):categories===null||categories===void 0?void 0:categories.map(function(cat,key){return/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},key);})]}),/*#__PURE__*/_jsx(\"button\",{className:\"save-quantity-m\",type:\"submit\",children:\"Save This Item\"})]})]})]})]})]})}):/*#__PURE__*/_jsx(Loading,{})});}export default Inventory;/*<Suspense\n\t\t\t\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Loading camera...</div>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Stream\n\t\t\t\t\t\t\t\t\t\t\t\tgetVideoStream={getVideoStream}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Suspense>*/","map":{"version":3,"sources":["/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Inventory.js"],"names":["React","useState","useEffect","Suspense","Navbar","useDispatch","saveItem","editItem","Loading","Inventory","items","settings","w","window","innerWidth","dispatch","user","JSON","parse","localStorage","getItem","loading","setLoading","scannedItems","setScannedItems","nameOfUser","result","name","creator","googleId","_id","lastUpdated","Date","toDateString","quantityRemaining","category","distributer","nameOfItem","itemData","setItemData","setTimeout","thisUsersItems","filter","i","thisUsersSettings","s","distributers","split","categories","getVideoStream","navigator","mediaDevices","getUserMedia","video","facingMode","exact","then","stream","document","getElementById","srcObject","catch","error","console","log","list","find","enumerateDevices","devices","d","kind","err","message","saveItemData","match","item","alert","length","map","key","threshold","e","target","value","dist","cat"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Suspense } from 'react';\nimport Navbar from './Navbar';\nimport { useDispatch } from 'react-redux';\nimport { saveItem, editItem } from '../actions/inventory';\nimport Loading from './Loading';\n//const Stream = React.lazy(() => import('./Stream'));\n\nfunction Inventory({ items, settings }) {\n\t/*****************************************************\n\t- add onChange event to slider to show quantity and add to state\n\t- add API product lookup to add product name to state\n\t- add functionality to select individual items and save them with itemData state- replace 'this product' in form with product selected\n\t \n\t******************************************************/\n\n\t//set variables\n\tvar w = window.innerWidth;\n\tconst dispatch = useDispatch();\n\tconst user = JSON.parse(localStorage.getItem('profile'));\n\tconst [loading, setLoading] = useState(true);\n\tconst [scannedItems, setScannedItems] = useState([]);\n\tconst [itemData, setItemData] = useState({\n\t\tnameOfUser: user?.result?.name,\n\t\tcreator: user?.result?.googleId || user?.result?._id,\n\t\tlastUpdated: new Date().toDateString(),\n\t\tquantityRemaining: '',\n\t\tcategory: '',\n\t\tdistributer: '',\n\t\tnameOfItem: '',\n\t});\n\n\t//set loading screen\n\tuseEffect(() => {\n\t\tsetTimeout(() => setLoading(false), 4000);\n\t}, []);\n\n\t//get current user's items\n\tconst thisUsersItems = items.filter(\n\t\t(i) =>\n\t\t\tuser?.result?.googleId === i?.creator ||\n\t\t\tuser?.result?._id === i?.creator,\n\t);\n\n\t//get current user's settings\n\tconst thisUsersSettings = settings.filter(\n\t\t(s) =>\n\t\t\tuser?.result?.googleId === s?.creator ||\n\t\t\tuser?.result?._id === s?.creator,\n\t);\n\n\tconst distributers = thisUsersSettings[0]?.distributers[0]?.split(', ');\n\tconst categories = thisUsersSettings[0]?.categories[0]?.split(', ');\n\n\t//access camera on device and stream\n\tconst getVideoStream = () => {\n\t\tnavigator.mediaDevices\n\t\t\t.getUserMedia({\n\t\t\t\tvideo: { facingMode: { exact: 'environment' } },\n\t\t\t})\n\t\t\t.then((stream) => {\n\t\t\t\tdocument.getElementById('video').srcObject = stream;\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t};\n\tlet list = [];\n\tconst find = () => {\n\t\tnavigator.mediaDevices\n\t\t\t.enumerateDevices()\n\t\t\t.then(function (devices) {\n\t\t\t\tfor (let d in devices) {\n\t\t\t\t\tif (d.kind === 'videoinput') {\n\t\t\t\t\t\tconsole.log(d);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function (err) {\n\t\t\t\tconsole.log(err.name + ': ' + err.message);\n\t\t\t});\n\t};\n\n\t//scan barcode from live camera stream\n\t/*const barcodeDetector = new window.BarcodeDetector({\n\t\tformats: [\n\t\t\t'ean_13',\n\t\t\t'ean_8',\n\t\t\t'upc_a',\n\t\t\t'upc_e',\n\t\t\t'code_128',\n\t\t\t'code_39',\n\t\t\t'code_93',\n\t\t\t'codabar',\n\t\t\t'itf',\n\t\t],\n\t});\n\n\tconst findBarcode = () => {\n\t\tif (document.getElementById('video')) {\n\t\t\tbarcodeDetector\n\t\t\t\t.detect(document.getElementById('video'))\n\t\t\t\t.then((data) => {\n\t\t\t\t\tif (data.length > 0) {\n\t\t\t\t\t\tcode = data[0].rawValue;\n\t\t\t\t\t\tapiLookup(code);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t});\n\t\t}\n\t};\n\n\t//'https://api.apigenius.io/products/lookup?upc=' + code + '&api_key=' + key;\n\t// titos - 619947000013\n\n\t//api barcode lookup\n\tlet code;\n\tlet key = '91990a226f804b428cb02a40c9f5b1d9';\n\tconst apiLookup = (code) => {\n\t\tconst url =\n\t\t\t'https://api.apigenius.io/products/lookup?upc=' +\n\t\t\tcode +\n\t\t\t'&api_key=' +\n\t\t\tkey;\n\t\tfetch(url, {\n\t\t\tmode: 'no-cors',\n\t\t\tbody: JSON.stringify(),\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tsetScannedItems([\n\t\t\t\t\t...scannedItems,\n\t\t\t\t\tresponse.text(), //?.items?.title,\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tsetInterval(findBarcode, 2000);*/\n\n\t//slider/form\n\tconst saveItemData = () => {\n\t\tconst match = thisUsersItems.filter(\n\t\t\t(item) => item.nameOfItem === itemData.nameOfItem,\n\t\t);\n\t\tif (match) {\n\t\t\tdispatch(editItem(match._id, { ...itemData }));\n\t\t} else {\n\t\t\tdispatch(saveItem({ itemData }));\n\t\t}\n\t\talert('Item quantity saved successfully.');\n\t};\n\n\tconsole.log(itemData);\n\tconsole.log(scannedItems);\n\n\treturn (\n\t\t<>\n\t\t\t{loading === false ? (\n\t\t\t\t<>\n\t\t\t\t\t{w > 480 ? (\n\t\t\t\t\t\t<div className='inventory-container'>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div id='nav-section' className='col-3'>\n\t\t\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='col-9'>\n\t\t\t\t\t\t\t\t\t<h1 className='dash-heading'>\n\t\t\t\t\t\t\t\t\t\tTake Inventory\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<hr className='dash-line' />\n\t\t\t\t\t\t\t\t\t<button onClick={find}>show devices</button>\n\t\t\t\t\t\t\t\t\t<p>list: {list}</p>\n\t\t\t\t\t\t\t\t\t<div className='take-inventory'>\n\t\t\t\t\t\t\t\t\t\t{thisUsersSettings.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<b className='inventory-settings'>\n\t\t\t\t\t\t\t\t\t\t\t\tAttention! Please set your\n\t\t\t\t\t\t\t\t\t\t\t\tdistributers, threshold, and\n\t\t\t\t\t\t\t\t\t\t\t\tcategories on the Settings page\n\t\t\t\t\t\t\t\t\t\t\t\tbefore taking inventory.\n\t\t\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t<p className='barcode-p'>\n\t\t\t\t\t\t\t\t\t\t\tScan barcode:\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\t\t\t\tid='video'\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='video-view'\n\t\t\t\t\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\t\t\t\t\tonCanPlay={getVideoStream()}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tVideo stream not available.\n\t\t\t\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t\t\t\t\t<p className='barcode-p'>\n\t\t\t\t\t\t\t\t\t\t\t\tScanned item(s):\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className='item-info'>\n\t\t\t\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{scannedItems.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='info-text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{'  ' + item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='clear-scans'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetScannedItems([])\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tClear Scanned Items\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t<div className='set-amt'>\n\t\t\t\t\t\t\t\t\t\t\t\tClick on a scanned item above,\n\t\t\t\t\t\t\t\t\t\t\t\tand use the slider below to\n\t\t\t\t\t\t\t\t\t\t\t\trepresent quantity remaining. If\n\t\t\t\t\t\t\t\t\t\t\t\tthe quantity remaining is at or\n\t\t\t\t\t\t\t\t\t\t\t\tbelow your set threshold, this\n\t\t\t\t\t\t\t\t\t\t\t\titem will be added to you order\n\t\t\t\t\t\t\t\t\t\t\t\tlist.\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='btl-img'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t(bottle shape and slider\n\t\t\t\t\t\t\t\t\t\t\t\t\there, onClick of item above,\n\t\t\t\t\t\t\t\t\t\t\t\t\tshow bottle shape, store\n\t\t\t\t\t\t\t\t\t\t\t\t\titem info and quatity to DB)\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={saveItemData}>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='quantity'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity: <b>{+'%'}</b>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='threshold-info'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings.length ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Please set your desired distributers, threshold, and categories on the Settings page.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Your threshold is currently set to ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.threshold +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  '%.'}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tWhich distributer do you\n\t\t\t\t\t\t\t\t\t\t\t\t\ttypically order this product\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom?\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='distributer'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='distributer-select'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistributer:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Distributer\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Distributers\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAvailable - Set your\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDistributers on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSettings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistributers?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dist, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tWhich category does this\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct belong to?\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='category-select'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategory:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Category\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Categories\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAvailable - Set your\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCategories on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSettings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategories?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(cat, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='save-quantity'\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSave This Item\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t\t<div className='inventory-container-m'>\n\t\t\t\t\t\t\t\t<h1 className='dash-heading-m'>\n\t\t\t\t\t\t\t\t\tTake Inventory\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<hr className='dash-line-m' />\n\t\t\t\t\t\t\t\t<button onClick={find}>show devices</button>\n\t\t\t\t\t\t\t\t<p>list: {list}</p>\n\t\t\t\t\t\t\t\t<div className='take-inventory'>\n\t\t\t\t\t\t\t\t\t{thisUsersSettings.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t<b className='inventory-settings'>\n\t\t\t\t\t\t\t\t\t\t\tAttention! Please set your\n\t\t\t\t\t\t\t\t\t\t\tdistributers, threshold, and\n\t\t\t\t\t\t\t\t\t\t\tcategories on the Settings page\n\t\t\t\t\t\t\t\t\t\t\tbefore taking inventory.\n\t\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t<p className='barcode-p'>Scan barcode:</p>\n\t\t\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t\t\t<video\n\t\t\t\t\t\t\t\t\t\t\tid='video'\n\t\t\t\t\t\t\t\t\t\t\tclassName='video-view'\n\t\t\t\t\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\t\t\t\t\tonCanPlay={getVideoStream()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tVideo stream not available.\n\t\t\t\t\t\t\t\t\t\t</video>\n\t\t\t\t\t\t\t\t\t\t<p className='barcode-p'>\n\t\t\t\t\t\t\t\t\t\t\tScanned item(s):\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<div className='item-info'>\n\t\t\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t\t\t{scannedItems.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(item, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='info-text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{'  ' + item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='clear-scans-m'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setScannedItems([])}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tClear Scanned Items\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<div className='set-amt-m'>\n\t\t\t\t\t\t\t\t\t\t\tClick on a scanned item above, and\n\t\t\t\t\t\t\t\t\t\t\tuse the slider below to represent\n\t\t\t\t\t\t\t\t\t\t\tquantity remaining. If the quantity\n\t\t\t\t\t\t\t\t\t\t\tremaining is at or below your set\n\t\t\t\t\t\t\t\t\t\t\tthreshold, this item will be added\n\t\t\t\t\t\t\t\t\t\t\tto you order list.\n\t\t\t\t\t\t\t\t\t\t\t<div className='btl-img'>\n\t\t\t\t\t\t\t\t\t\t\t\t(bottle shape and slider here,\n\t\t\t\t\t\t\t\t\t\t\t\tonClick of item above, show\n\t\t\t\t\t\t\t\t\t\t\t\tbottle shape, store item info\n\t\t\t\t\t\t\t\t\t\t\t\tand quatity to DB)\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<form onSubmit={saveItemData}>\n\t\t\t\t\t\t\t\t\t\t\t<p className='quantity'>\n\t\t\t\t\t\t\t\t\t\t\t\tQuantity: <b>{+'%'}</b>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className='threshold-info'>\n\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings.length === 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Please set your desired distributers, threshold, and categories on the Settings page.'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'Your threshold is currently set to ' +\n\t\t\t\t\t\t\t\t\t\t\t\t\t  thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.threshold +\n\t\t\t\t\t\t\t\t\t\t\t\t\t  '%.'}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tWhich distributer do you\n\t\t\t\t\t\t\t\t\t\t\t\ttypically order this product\n\t\t\t\t\t\t\t\t\t\t\t\tfrom?\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tname='distributer'\n\t\t\t\t\t\t\t\t\t\t\t\tid='distributer-select-m'\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistributer:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Distributer\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Distributers\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAvailable - Set your\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDistributers on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSettings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tdistributers?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dist, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tWhich category does this product\n\t\t\t\t\t\t\t\t\t\t\t\tbelong to?\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\t\t\t\t\t\tid='category-select-m'\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategory:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Category\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Categories Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t- Set your Categories on\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthe Settings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcategories?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(cat, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='save-quantity-m'\n\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tSave This Item\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Loading />\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Inventory;\n\n/*<Suspense\n\t\t\t\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Loading camera...</div>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Stream\n\t\t\t\t\t\t\t\t\t\t\t\tgetVideoStream={getVideoStream}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Suspense>*/\n"]},"metadata":{},"sourceType":"module"}