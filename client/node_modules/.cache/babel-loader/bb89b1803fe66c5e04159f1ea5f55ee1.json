{"ast":null,"code":"var _jsxFileName = \"/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Navbar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport logo from '../images/navlogo.png';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\nimport * as actionType from '../constants/actionTypes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Navbar() {\n  _s();\n\n  var _user$result, _user$result2;\n\n  //set variables\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile'))); //dispatch logout function for logout button\n\n  const logout = () => {\n    dispatch({\n      type: actionType.LOGOUT\n    });\n    alert('Logout successful');\n    history.push('/');\n    setUser(null);\n  }; //get user info for navbar, set auto-logout\n\n\n  useEffect(() => {\n    const token = user === null || user === void 0 ? void 0 : user.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"#\",\n      \"data-activates\": \"slide-out\",\n      class: \"btn btn-primary p-3 button-collapse\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fas fa-bars\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"side-nav fixed wide sn-bg-1\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"custom-scrollbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"logo-wrapper sn-ad-avatar-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: logo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: user === null || user === void 0 ? void 0 : (_user$result = user.result) === null || _user$result === void 0 ? void 0 : _user$result.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"logo\",\n            src: logo,\n            alt: \"logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"navbar-toggler\",\n          type: \"button\",\n          \"data-toggle\": \"collapse\",\n          \"data-target\": \"#navbarNavAltMarkup\",\n          \"aria-controls\": \"navbarNavAltMarkup\",\n          \"aria-expanded\": \"false\",\n          \"aria-label\": \"Toggle navigation\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-toggler-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"collapse navbar-collapse\",\n          id: \"navbarNavAltMarkup\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navbar-nav mr-auto\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: \"/dashboard\",\n              className: \"nav-item nav-link\",\n              children: \"Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"#\",\n              className: \"nav-item nav-link\",\n              children: \"Unknown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"navbar-nav ml-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"navbar-text\",\n              children: user === null || user === void 0 ? void 0 : (_user$result2 = user.result) === null || _user$result2 === void 0 ? void 0 : _user$result2.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"logout-button\",\n              className: \"btn btn-primary\",\n              type: \"submit\",\n              onClick: logout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Navbar, \"4k44onpA6mhiX7C94CT1x1jKOSY=\", false, function () {\n  return [useDispatch, useLocation, useHistory];\n});\n\n_c = Navbar;\nexport default Navbar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"sources":["/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Navbar.js"],"names":["React","useState","useEffect","logo","Link","useHistory","useLocation","useDispatch","decode","actionType","Navbar","dispatch","location","history","user","setUser","JSON","parse","localStorage","getItem","logout","type","LOGOUT","alert","push","token","decodedToken","exp","Date","getTime","result","name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport logo from '../images/navlogo.png';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\nimport * as actionType from '../constants/actionTypes';\n\nfunction Navbar() {\n\t//set variables\n\tconst dispatch = useDispatch();\n\tconst location = useLocation();\n\tconst history = useHistory();\n\tconst [user, setUser] = useState(\n\t\tJSON.parse(localStorage.getItem('profile')),\n\t);\n\n\t//dispatch logout function for logout button\n\tconst logout = () => {\n\t\tdispatch({ type: actionType.LOGOUT });\n\t\talert('Logout successful');\n\t\thistory.push('/');\n\t\tsetUser(null);\n\t};\n\n\t//get user info for navbar, set auto-logout\n\tuseEffect(() => {\n\t\tconst token = user?.token;\n\t\tif (token) {\n\t\t\tconst decodedToken = decode(token);\n\n\t\t\tif (decodedToken.exp * 1000 < new Date().getTime()) logout();\n\t\t}\n\t\tsetUser(JSON.parse(localStorage.getItem('profile')));\n\t}, [location]);\n\n\treturn (\n\t\t<>\n\t\t\t<a\n\t\t\t\thref='#'\n\t\t\t\tdata-activates='slide-out'\n\t\t\t\tclass='btn btn-primary p-3 button-collapse'\n\t\t\t>\n\t\t\t\t<i class='fas fa-bars'></i>\n\t\t\t</a>\n\t\t\t<div className='side-nav fixed wide sn-bg-1'>\n\t\t\t\t<ul className='custom-scrollbar'>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<div class='logo-wrapper sn-ad-avatar-wrapper'>\n\t\t\t\t\t\t\t<a href='#'>\n\t\t\t\t\t\t\t\t<img src={logo} />\n\t\t\t\t\t\t\t\t<p>{user?.result?.name}</p>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t\t<Link to='/dashboard'>\n\t\t\t\t\t\t<img className='logo' src={logo} alt='logo' />\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName='navbar-toggler'\n\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\tdata-toggle='collapse'\n\t\t\t\t\t\tdata-target='#navbarNavAltMarkup'\n\t\t\t\t\t\taria-controls='navbarNavAltMarkup'\n\t\t\t\t\t\taria-expanded='false'\n\t\t\t\t\t\taria-label='Toggle navigation'\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className='navbar-toggler-icon'></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName='collapse navbar-collapse'\n\t\t\t\t\t\tid='navbarNavAltMarkup'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className='navbar-nav mr-auto'>\n\t\t\t\t\t\t\t<Link to='/dashboard' className='nav-item nav-link'>\n\t\t\t\t\t\t\t\tDashboard\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link to='#' className='nav-item nav-link'>\n\t\t\t\t\t\t\t\tUnknown\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='navbar-nav ml-auto'>\n\t\t\t\t\t\t\t<span className='navbar-text'>\n\t\t\t\t\t\t\t\t{user?.result?.name}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tid='logout-button'\n\t\t\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tonClick={logout}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Navbar;\n"]},"metadata":{},"sourceType":"module"}