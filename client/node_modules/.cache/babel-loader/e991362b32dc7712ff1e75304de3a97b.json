{"ast":null,"code":"import _objectSpread from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Loading from'../Loading';import{useDispatch,useSelector}from'react-redux';import{saveItem,editItem}from'../../actions/inventory';import{useHistory}from'react-router-dom';import ManualEntryDesktop from'./ManualEntryDesktop';import ManualEntryMobile from'./ManualEntryMobile';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ManualEntry(){var _user$result5,_user$result6,_user$result7,_settings$,_settings$$distribute,_settings$2,_settings$2$categorie;//set variables\nvar dispatch=useDispatch();var history=useHistory();var user=JSON.parse(localStorage.getItem('profile'));var settings=useSelector(function(state){return state.settings.filter(function(s){var _user$result,_user$result2;return(user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.googleId)===(s===null||s===void 0?void 0:s.creator)||(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2._id)===(s===null||s===void 0?void 0:s.creator);});});var items=useSelector(function(state){return state.items.filter(function(i){var _user$result3,_user$result4;return(user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3.googleId)===(i===null||i===void 0?void 0:i.creator)||(user===null||user===void 0?void 0:(_user$result4=user.result)===null||_user$result4===void 0?void 0:_user$result4._id)===(i===null||i===void 0?void 0:i.creator);});});var _useState=useState(0),_useState2=_slicedToArray(_useState,2),width=_useState2[0],setWidth=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState({nameOfUser:user===null||user===void 0?void 0:(_user$result5=user.result)===null||_user$result5===void 0?void 0:_user$result5.name,creator:(user===null||user===void 0?void 0:(_user$result6=user.result)===null||_user$result6===void 0?void 0:_user$result6.googleId)||(user===null||user===void 0?void 0:(_user$result7=user.result)===null||_user$result7===void 0?void 0:_user$result7._id),lastUpdated:new Date().toDateString(),quantityRemaining:'',category:'',distributer:'',nameOfItem:'',barcode:''}),_useState6=_slicedToArray(_useState5,2),itemData=_useState6[0],setItemData=_useState6[1];//set loading screen\nuseEffect(function(){setTimeout(function(){return setLoading(false);},2000);setTimeout(function(){return setWidth(window.innerWidth);},2000);},[]);var distributers=(_settings$=settings[0])===null||_settings$===void 0?void 0:(_settings$$distribute=_settings$.distributers[0])===null||_settings$$distribute===void 0?void 0:_settings$$distribute.split(', ');var categories=(_settings$2=settings[0])===null||_settings$2===void 0?void 0:(_settings$2$categorie=_settings$2.categories[0])===null||_settings$2$categorie===void 0?void 0:_settings$2$categorie.split(', ');//save data entry\nvar saveItemData=function saveItemData(e){e.preventDefault();if(items.length>0){var match=items.filter(function(item){return item.barcode===itemData.barcode;});if(match.length!==0){dispatch(editItem(match[0]._id,_objectSpread({},itemData)));alert('Item saved successfully.');history.push('/manual-entry');}else{dispatch(saveItem({itemData:itemData}));alert('Item saved successfully.');history.push('/manual-entry');}}else{dispatch(saveItem({itemData:itemData}));alert('Item saved successfully.');history.push('/manual-entry');}};return/*#__PURE__*/_jsx(_Fragment,{children:loading===false?/*#__PURE__*/_jsx(_Fragment,{children:width>=1000?/*#__PURE__*/_jsx(ManualEntryDesktop,{settings:settings,distributers:distributers,categories:categories,saveItemData:saveItemData,itemData:itemData,setItemData:setItemData}):/*#__PURE__*/_jsx(ManualEntryMobile,{settings:settings,distributers:distributers,categories:categories,saveItemData:saveItemData,itemData:itemData,setItemData:setItemData})}):/*#__PURE__*/_jsx(Loading,{})});}export default ManualEntry;","map":{"version":3,"sources":["/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Manual Entry/ManualEntry.js"],"names":["React","useState","useEffect","Loading","useDispatch","useSelector","saveItem","editItem","useHistory","ManualEntryDesktop","ManualEntryMobile","ManualEntry","dispatch","history","user","JSON","parse","localStorage","getItem","settings","state","filter","s","result","googleId","creator","_id","items","i","width","setWidth","loading","setLoading","nameOfUser","name","lastUpdated","Date","toDateString","quantityRemaining","category","distributer","nameOfItem","barcode","itemData","setItemData","setTimeout","window","innerWidth","distributers","split","categories","saveItemData","e","preventDefault","length","match","item","alert","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Loading from '../Loading';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { saveItem, editItem } from '../../actions/inventory';\nimport { useHistory } from 'react-router-dom';\nimport ManualEntryDesktop from './ManualEntryDesktop';\nimport ManualEntryMobile from './ManualEntryMobile';\n\nfunction ManualEntry() {\n\t//set variables\n\tconst dispatch = useDispatch();\n\tconst history = useHistory();\n\tconst user = JSON.parse(localStorage.getItem('profile'));\n\tconst settings = useSelector((state) =>\n\t\tstate.settings.filter(\n\t\t\t(s) =>\n\t\t\t\tuser?.result?.googleId === s?.creator ||\n\t\t\t\tuser?.result?._id === s?.creator,\n\t\t),\n\t);\n\tconst items = useSelector((state) =>\n\t\tstate.items.filter(\n\t\t\t(i) =>\n\t\t\t\tuser?.result?.googleId === i?.creator ||\n\t\t\t\tuser?.result?._id === i?.creator,\n\t\t),\n\t);\n\tconst [width, setWidth] = useState(0);\n\tconst [loading, setLoading] = useState(true);\n\tconst [itemData, setItemData] = useState({\n\t\tnameOfUser: user?.result?.name,\n\t\tcreator: user?.result?.googleId || user?.result?._id,\n\t\tlastUpdated: new Date().toDateString(),\n\t\tquantityRemaining: '',\n\t\tcategory: '',\n\t\tdistributer: '',\n\t\tnameOfItem: '',\n\t\tbarcode: '',\n\t});\n\n\t//set loading screen\n\tuseEffect(() => {\n\t\tsetTimeout(() => setLoading(false), 2000);\n\t\tsetTimeout(() => setWidth(window.innerWidth), 2000);\n\t}, []);\n\n\tconst distributers = settings[0]?.distributers[0]?.split(', ');\n\tconst categories = settings[0]?.categories[0]?.split(', ');\n\n\t//save data entry\n\tconst saveItemData = (e) => {\n\t\te.preventDefault();\n\t\tif (items.length > 0) {\n\t\t\tconst match = items.filter(\n\t\t\t\t(item) => item.barcode === itemData.barcode,\n\t\t\t);\n\t\t\tif (match.length !== 0) {\n\t\t\t\tdispatch(editItem(match[0]._id, { ...itemData }));\n\t\t\t\talert('Item saved successfully.');\n\t\t\t\thistory.push('/manual-entry');\n\t\t\t} else {\n\t\t\t\tdispatch(saveItem({ itemData }));\n\t\t\t\talert('Item saved successfully.');\n\t\t\t\thistory.push('/manual-entry');\n\t\t\t}\n\t\t} else {\n\t\t\tdispatch(saveItem({ itemData }));\n\t\t\talert('Item saved successfully.');\n\t\t\thistory.push('/manual-entry');\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{loading === false ? (\n\t\t\t\t<>\n\t\t\t\t\t{width >= 1000 ? (\n\t\t\t\t\t\t<ManualEntryDesktop\n\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\tdistributers={distributers}\n\t\t\t\t\t\t\tcategories={categories}\n\t\t\t\t\t\t\tsaveItemData={saveItemData}\n\t\t\t\t\t\t\titemData={itemData}\n\t\t\t\t\t\t\tsetItemData={setItemData}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ManualEntryMobile\n\t\t\t\t\t\t\tsettings={settings}\n\t\t\t\t\t\t\tdistributers={distributers}\n\t\t\t\t\t\t\tcategories={categories}\n\t\t\t\t\t\t\tsaveItemData={saveItemData}\n\t\t\t\t\t\t\titemData={itemData}\n\t\t\t\t\t\t\tsetItemData={setItemData}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Loading />\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default ManualEntry;\n"]},"metadata":{},"sourceType":"module"}