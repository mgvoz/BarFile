{"ast":null,"code":"import _objectSpread from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/MarissaGvozdenovich/Desktop/BarFile/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Suspense}from'react';import Navbar from'./Navbar';import{useDispatch}from'react-redux';import{saveItem,editItem}from'../actions/inventory';import Loading from'./Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Stream=/*#__PURE__*/React.lazy(function(){return import('./Stream');});function Inventory(_ref){var _user$result,_user$result2,_user$result3,_thisUsersSettings$,_thisUsersSettings$$d,_thisUsersSettings$2,_thisUsersSettings$2$,_thisUsersSettings$3,_thisUsersSettings$4,_thisUsersSettings$5,_thisUsersSettings$6,_thisUsersSettings$7,_thisUsersSettings$8,_thisUsersSettings$9,_thisUsersSettings$10;var items=_ref.items,settings=_ref.settings;/*****************************************************\n\t- add onChange event to slider to show quantity and add to state\n\t- add API product lookup to add product name to state\n\t- add functionality to select individual items and save them with itemData state- replace 'this product' in form with product selected\n\t \n\t******************************************************/ //set variables\nvar w=window.innerWidth;var dispatch=useDispatch();var user=JSON.parse(localStorage.getItem('profile'));var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),scannedItems=_useState4[0],setScannedItems=_useState4[1];var _useState5=useState({nameOfUser:user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.name,creator:(user===null||user===void 0?void 0:(_user$result2=user.result)===null||_user$result2===void 0?void 0:_user$result2.googleId)||(user===null||user===void 0?void 0:(_user$result3=user.result)===null||_user$result3===void 0?void 0:_user$result3._id),lastUpdated:new Date().toDateString(),quantityRemaining:'',category:'',distributer:'',nameOfItem:''}),_useState6=_slicedToArray(_useState5,2),itemData=_useState6[0],setItemData=_useState6[1];//set loading screen\nuseEffect(function(){setTimeout(function(){return setLoading(false);},4000);},[]);//get current user's items\nvar thisUsersItems=items.filter(function(i){var _user$result4,_user$result5;return(user===null||user===void 0?void 0:(_user$result4=user.result)===null||_user$result4===void 0?void 0:_user$result4.googleId)===(i===null||i===void 0?void 0:i.creator)||(user===null||user===void 0?void 0:(_user$result5=user.result)===null||_user$result5===void 0?void 0:_user$result5._id)===(i===null||i===void 0?void 0:i.creator);});//get current user's settings\nvar thisUsersSettings=settings.filter(function(s){var _user$result6,_user$result7;return(user===null||user===void 0?void 0:(_user$result6=user.result)===null||_user$result6===void 0?void 0:_user$result6.googleId)===(s===null||s===void 0?void 0:s.creator)||(user===null||user===void 0?void 0:(_user$result7=user.result)===null||_user$result7===void 0?void 0:_user$result7._id)===(s===null||s===void 0?void 0:s.creator);});var distributers=(_thisUsersSettings$=thisUsersSettings[0])===null||_thisUsersSettings$===void 0?void 0:(_thisUsersSettings$$d=_thisUsersSettings$.distributers[0])===null||_thisUsersSettings$$d===void 0?void 0:_thisUsersSettings$$d.split(', ');var categories=(_thisUsersSettings$2=thisUsersSettings[0])===null||_thisUsersSettings$2===void 0?void 0:(_thisUsersSettings$2$=_thisUsersSettings$2.categories[0])===null||_thisUsersSettings$2$===void 0?void 0:_thisUsersSettings$2$.split(', ');//access camera on device and stream\nvar video=document.getElementById('video');var getVideoStream=function getVideoStream(){navigator.mediaDevices.getUserMedia({video:true}).then(function(stream){document.getElementById('video').srcObject=stream;}).catch(function(error){return console.log(error);});};//scan barcode from live camera stream\nvar barcodeDetector=new window.BarcodeDetector({formats:['ean_13','ean_8','upc_a','upc_e','code_128','code_39','code_93','codabar','itf']});var findBarcode=function findBarcode(){if(document.getElementById('video')){barcodeDetector.detect(document.getElementById('video')).then(function(data){if(data.length>0){code=data[0].rawValue;apiLookup(code);}}).catch(function(e){console.log(e);});}};//'https://api.apigenius.io/products/lookup?upc=' + code + '&api_key=' + key;\n// titos - 619947000013\n//api barcode lookup\nvar code;var key='91990a226f804b428cb02a40c9f5b1d9';var apiLookup=function apiLookup(code){var url='https://api.apigenius.io/products/lookup?upc='+code+'&api_key='+key;fetch(url,{mode:'no-cors',body:JSON.stringify()}).then(function(response){setScannedItems([].concat(_toConsumableArray(scannedItems),[response.text()//?.items?.title,\n]));}).catch(function(err){return console.log(err);});};setInterval(findBarcode,2000);//slider/form\nvar saveItemData=function saveItemData(){var match=thisUsersItems.filter(function(item){return item.nameOfItem===itemData.nameOfItem;});if(match){dispatch(editItem(match._id,_objectSpread({},itemData)));}else{dispatch(saveItem({itemData:itemData}));}alert('Item quantity saved successfully.');};console.log(itemData);console.log(scannedItems);return/*#__PURE__*/_jsx(_Fragment,{children:loading===false?/*#__PURE__*/_jsx(_Fragment,{children:w>480?/*#__PURE__*/_jsx(\"div\",{className:\"inventory-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"nav-section\",className:\"col-3\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-9\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dash-heading\",children:\"Take Inventory\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"take-inventory\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scan barcode:\"}),/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading camera...\"}),children:/*#__PURE__*/_jsx(Stream,{getVideoStream:getVideoStream})}),/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scanned item(s):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-info\",children:/*#__PURE__*/_jsx(\"ol\",{children:scannedItems.map(function(item,key){return/*#__PURE__*/_jsx(\"li\",{className:\"info-text\",children:'  '+item},key);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-scans\",onClick:function onClick(){return setScannedItems([]);},children:\"Clear Scanned Items\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-amt\",children:[\"Click on a scanned item above, and use the slider below to represent quantity remaining. If the quantity remaining is at or below your set threshold, this item will be added to you order list.\",' ',/*#__PURE__*/_jsxs(\"b\",{children:[\"Your threshold is currently\",' ',((_thisUsersSettings$3=thisUsersSettings[0])===null||_thisUsersSettings$3===void 0?void 0:_thisUsersSettings$3.threshold)===undefined?'unspecified. Please go to Settings to set your threshold':((_thisUsersSettings$4=thisUsersSettings[0])===null||_thisUsersSettings$4===void 0?void 0:_thisUsersSettings$4.threshold)+'%',\".\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"btl-img\",children:\"(bottle shape and slider here, onClick of item above, show bottle shape, store item info and quatity to DB)\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveItemData,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"quantity\",children:[\"Quantity: \",/*#__PURE__*/_jsx(\"b\",{children:+'%'})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Which distributer do you typically order this product from?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"distributer\",id:\"distributer-select\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{distributer:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Distributer\"}),((_thisUsersSettings$5=thisUsersSettings[0])===null||_thisUsersSettings$5===void 0?void 0:_thisUsersSettings$5.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Distributers Available - Set your Distributers on the Settings Page.\"}):distributers===null||distributers===void 0?void 0:distributers.map(function(dist,key){return/*#__PURE__*/_jsx(\"option\",{value:dist,children:dist},key);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Which category does this product belong to?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category-select\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{category:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Category\"}),((_thisUsersSettings$6=thisUsersSettings[0])===null||_thisUsersSettings$6===void 0?void 0:_thisUsersSettings$6.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Categories Available - Set your Categories on the Settings Page.\"}):categories===null||categories===void 0?void 0:categories.map(function(cat,key){return/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},key);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"save-quantity\",type:\"submit\",children:\"Save This Item\"})]})]})]})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"inventory-container-m\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"dash-heading-m\",children:\"Take Inventory\"}),/*#__PURE__*/_jsx(\"hr\",{className:\"dash-line-m\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"take-inventory\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scan barcode:\"}),/*#__PURE__*/_jsxs(\"center\",{children:[/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{children:\"Loading camera...\"}),children:/*#__PURE__*/_jsx(Stream,{getVideoStream:getVideoStream})}),/*#__PURE__*/_jsx(\"p\",{className:\"barcode-p\",children:\"Scanned item(s):\"}),/*#__PURE__*/_jsx(\"div\",{className:\"item-info\",children:/*#__PURE__*/_jsx(\"ol\",{children:scannedItems.map(function(item,key){return/*#__PURE__*/_jsx(\"li\",{className:\"info-text\",children:'  '+item},key);})})}),/*#__PURE__*/_jsx(\"button\",{className:\"clear-scans-m\",onClick:function onClick(){return setScannedItems([]);},children:\"Clear Scanned Items\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"set-amt-m\",children:[\"Click on a scanned item above, and use the slider below to represent quantity remaining. If the quantity remaining is at or below your set threshold, this item will be added to you order list.\",' ',/*#__PURE__*/_jsxs(\"b\",{children:[\"Your threshold is currently\",' ',((_thisUsersSettings$7=thisUsersSettings[0])===null||_thisUsersSettings$7===void 0?void 0:_thisUsersSettings$7.threshold)===undefined?'unspecified. Please go to Settings to set your threshold':((_thisUsersSettings$8=thisUsersSettings[0])===null||_thisUsersSettings$8===void 0?void 0:_thisUsersSettings$8.threshold)+'%',\".\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"btl-img\",children:\"(bottle shape and slider here, onClick of item above, show bottle shape, store item info and quatity to DB)\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveItemData,children:[/*#__PURE__*/_jsxs(\"p\",{className:\"quantity\",children:[\"Quantity: \",/*#__PURE__*/_jsx(\"b\",{children:+'%'})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Which distributer do you typically order this product from?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"distributer\",id:\"distributer-select-m\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{distributer:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Distributer\"}),((_thisUsersSettings$9=thisUsersSettings[0])===null||_thisUsersSettings$9===void 0?void 0:_thisUsersSettings$9.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Distributers Available - Set your Distributers on the Settings Page.\"}):distributers===null||distributers===void 0?void 0:distributers.map(function(dist,key){return/*#__PURE__*/_jsx(\"option\",{value:dist,children:dist},key);})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Which category does this product belong to?\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",id:\"category-select-m\",onChange:function onChange(e){return setItemData(_objectSpread(_objectSpread({},itemData),{},{category:e.target.value}));},children:[/*#__PURE__*/_jsx(\"option\",{selected:true,disabled:true,children:\"Select Category\"}),((_thisUsersSettings$10=thisUsersSettings[0])===null||_thisUsersSettings$10===void 0?void 0:_thisUsersSettings$10.length)===0?/*#__PURE__*/_jsx(\"option\",{disabled:true,children:\"No Categories Available - Set your Categories on the Settings Page.\"}):categories===null||categories===void 0?void 0:categories.map(function(cat,key){return/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},key);})]}),/*#__PURE__*/_jsx(\"button\",{className:\"save-quantity-m\",type:\"submit\",children:\"Save This Item\"})]})]})]})]})]})}):/*#__PURE__*/_jsx(Loading,{})});}export default Inventory;","map":{"version":3,"sources":["/Users/MarissaGvozdenovich/Desktop/BarFile/client/src/components/Inventory.js"],"names":["React","useState","useEffect","Suspense","Navbar","useDispatch","saveItem","editItem","Loading","Stream","lazy","Inventory","items","settings","w","window","innerWidth","dispatch","user","JSON","parse","localStorage","getItem","loading","setLoading","scannedItems","setScannedItems","nameOfUser","result","name","creator","googleId","_id","lastUpdated","Date","toDateString","quantityRemaining","category","distributer","nameOfItem","itemData","setItemData","setTimeout","thisUsersItems","filter","i","thisUsersSettings","s","distributers","split","categories","video","document","getElementById","getVideoStream","navigator","mediaDevices","getUserMedia","then","stream","srcObject","catch","error","console","log","barcodeDetector","BarcodeDetector","formats","findBarcode","detect","data","length","code","rawValue","apiLookup","e","key","url","fetch","mode","body","stringify","response","text","err","setInterval","saveItemData","match","item","alert","map","threshold","undefined","target","value","dist","cat"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Suspense } from 'react';\nimport Navbar from './Navbar';\nimport { useDispatch } from 'react-redux';\nimport { saveItem, editItem } from '../actions/inventory';\nimport Loading from './Loading';\nconst Stream = React.lazy(() => import('./Stream'));\n\nfunction Inventory({ items, settings }) {\n\t/*****************************************************\n\t- add onChange event to slider to show quantity and add to state\n\t- add API product lookup to add product name to state\n\t- add functionality to select individual items and save them with itemData state- replace 'this product' in form with product selected\n\t \n\t******************************************************/\n\n\t//set variables\n\tvar w = window.innerWidth;\n\tconst dispatch = useDispatch();\n\tconst user = JSON.parse(localStorage.getItem('profile'));\n\tconst [loading, setLoading] = useState(true);\n\tconst [scannedItems, setScannedItems] = useState([]);\n\tconst [itemData, setItemData] = useState({\n\t\tnameOfUser: user?.result?.name,\n\t\tcreator: user?.result?.googleId || user?.result?._id,\n\t\tlastUpdated: new Date().toDateString(),\n\t\tquantityRemaining: '',\n\t\tcategory: '',\n\t\tdistributer: '',\n\t\tnameOfItem: '',\n\t});\n\n\t//set loading screen\n\tuseEffect(() => {\n\t\tsetTimeout(() => setLoading(false), 4000);\n\t}, []);\n\n\t//get current user's items\n\tconst thisUsersItems = items.filter(\n\t\t(i) =>\n\t\t\tuser?.result?.googleId === i?.creator ||\n\t\t\tuser?.result?._id === i?.creator,\n\t);\n\n\t//get current user's settings\n\tconst thisUsersSettings = settings.filter(\n\t\t(s) =>\n\t\t\tuser?.result?.googleId === s?.creator ||\n\t\t\tuser?.result?._id === s?.creator,\n\t);\n\n\tconst distributers = thisUsersSettings[0]?.distributers[0]?.split(', ');\n\tconst categories = thisUsersSettings[0]?.categories[0]?.split(', ');\n\n\t//access camera on device and stream\n\tvar video = document.getElementById('video');\n\n\tconst getVideoStream = () => {\n\t\tnavigator.mediaDevices\n\t\t\t.getUserMedia({ video: true })\n\t\t\t.then((stream) => {\n\t\t\t\tdocument.getElementById('video').srcObject = stream;\n\t\t\t})\n\t\t\t.catch((error) => console.log(error));\n\t};\n\n\t//scan barcode from live camera stream\n\tconst barcodeDetector = new window.BarcodeDetector({\n\t\tformats: [\n\t\t\t'ean_13',\n\t\t\t'ean_8',\n\t\t\t'upc_a',\n\t\t\t'upc_e',\n\t\t\t'code_128',\n\t\t\t'code_39',\n\t\t\t'code_93',\n\t\t\t'codabar',\n\t\t\t'itf',\n\t\t],\n\t});\n\n\tconst findBarcode = () => {\n\t\tif (document.getElementById('video')) {\n\t\t\tbarcodeDetector\n\t\t\t\t.detect(document.getElementById('video'))\n\t\t\t\t.then((data) => {\n\t\t\t\t\tif (data.length > 0) {\n\t\t\t\t\t\tcode = data[0].rawValue;\n\t\t\t\t\t\tapiLookup(code);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t});\n\t\t}\n\t};\n\n\t//'https://api.apigenius.io/products/lookup?upc=' + code + '&api_key=' + key;\n\t// titos - 619947000013\n\n\t//api barcode lookup\n\tlet code;\n\tlet key = '91990a226f804b428cb02a40c9f5b1d9';\n\tconst apiLookup = (code) => {\n\t\tconst url =\n\t\t\t'https://api.apigenius.io/products/lookup?upc=' +\n\t\t\tcode +\n\t\t\t'&api_key=' +\n\t\t\tkey;\n\t\tfetch(url, {\n\t\t\tmode: 'no-cors',\n\t\t\tbody: JSON.stringify(),\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\tsetScannedItems([\n\t\t\t\t\t...scannedItems,\n\t\t\t\t\tresponse.text(), //?.items?.title,\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t};\n\n\tsetInterval(findBarcode, 2000);\n\n\t//slider/form\n\tconst saveItemData = () => {\n\t\tconst match = thisUsersItems.filter(\n\t\t\t(item) => item.nameOfItem === itemData.nameOfItem,\n\t\t);\n\t\tif (match) {\n\t\t\tdispatch(editItem(match._id, { ...itemData }));\n\t\t} else {\n\t\t\tdispatch(saveItem({ itemData }));\n\t\t}\n\t\talert('Item quantity saved successfully.');\n\t};\n\n\tconsole.log(itemData);\n\tconsole.log(scannedItems);\n\n\treturn (\n\t\t<>\n\t\t\t{loading === false ? (\n\t\t\t\t<>\n\t\t\t\t\t{w > 480 ? (\n\t\t\t\t\t\t<div className='inventory-container'>\n\t\t\t\t\t\t\t<div className='row'>\n\t\t\t\t\t\t\t\t<div id='nav-section' className='col-3'>\n\t\t\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='col-9'>\n\t\t\t\t\t\t\t\t\t<h1 className='dash-heading'>\n\t\t\t\t\t\t\t\t\t\tTake Inventory\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<hr className='dash-line' />\n\t\t\t\t\t\t\t\t\t<div className='take-inventory'>\n\t\t\t\t\t\t\t\t\t\t<p className='barcode-p'>\n\t\t\t\t\t\t\t\t\t\t\tScan barcode:\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t\t\t\t<Suspense\n\t\t\t\t\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>Loading camera...</div>\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Stream\n\t\t\t\t\t\t\t\t\t\t\t\t\tgetVideoStream={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgetVideoStream\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t\t\t\t\t\t<p className='barcode-p'>\n\t\t\t\t\t\t\t\t\t\t\t\tScanned item(s):\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<div className='item-info'>\n\t\t\t\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{scannedItems.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='info-text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{'  ' + item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='clear-scans'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetScannedItems([])\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tClear Scanned Items\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t<div className='set-amt'>\n\t\t\t\t\t\t\t\t\t\t\t\tClick on a scanned item above,\n\t\t\t\t\t\t\t\t\t\t\t\tand use the slider below to\n\t\t\t\t\t\t\t\t\t\t\t\trepresent quantity remaining. If\n\t\t\t\t\t\t\t\t\t\t\t\tthe quantity remaining is at or\n\t\t\t\t\t\t\t\t\t\t\t\tbelow your set threshold, this\n\t\t\t\t\t\t\t\t\t\t\t\titem will be added to you order\n\t\t\t\t\t\t\t\t\t\t\t\tlist.{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t\t\t\t\tYour threshold is currently{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.threshold ===\n\t\t\t\t\t\t\t\t\t\t\t\t\tundefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'unspecified. Please go to Settings to set your threshold'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.threshold +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  '%'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='btl-img'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t(bottle shape and slider\n\t\t\t\t\t\t\t\t\t\t\t\t\there, onClick of item above,\n\t\t\t\t\t\t\t\t\t\t\t\t\tshow bottle shape, store\n\t\t\t\t\t\t\t\t\t\t\t\t\titem info and quatity to DB)\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<form onSubmit={saveItemData}>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className='quantity'>\n\t\t\t\t\t\t\t\t\t\t\t\t\tQuantity: <b>{+'%'}</b>\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tWhich distributer do you\n\t\t\t\t\t\t\t\t\t\t\t\t\ttypically order this product\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom?\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='distributer'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='distributer-select'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistributer:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Distributer\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Distributers\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAvailable - Set your\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDistributers on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSettings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistributers?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dist, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t\tWhich category does this\n\t\t\t\t\t\t\t\t\t\t\t\t\tproduct belong to?\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='category-select'\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategory:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Category\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Categories\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAvailable - Set your\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCategories on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSettings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategories?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(cat, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='save-quantity'\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSave This Item\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t\t<div className='inventory-container-m'>\n\t\t\t\t\t\t\t\t<h1 className='dash-heading-m'>\n\t\t\t\t\t\t\t\t\tTake Inventory\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<hr className='dash-line-m' />\n\t\t\t\t\t\t\t\t<div className='take-inventory'>\n\t\t\t\t\t\t\t\t\t<p className='barcode-p'>Scan barcode:</p>\n\t\t\t\t\t\t\t\t\t<center>\n\t\t\t\t\t\t\t\t\t\t<Suspense\n\t\t\t\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t\t\t\t<div>Loading camera...</div>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Stream\n\t\t\t\t\t\t\t\t\t\t\t\tgetVideoStream={getVideoStream}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t\t\t\t\t<p className='barcode-p'>\n\t\t\t\t\t\t\t\t\t\t\tScanned item(s):\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<div className='item-info'>\n\t\t\t\t\t\t\t\t\t\t\t<ol>\n\t\t\t\t\t\t\t\t\t\t\t\t{scannedItems.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(item, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='info-text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{'  ' + item}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName='clear-scans-m'\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setScannedItems([])}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tClear Scanned Items\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t<div className='set-amt-m'>\n\t\t\t\t\t\t\t\t\t\t\tClick on a scanned item above, and\n\t\t\t\t\t\t\t\t\t\t\tuse the slider below to represent\n\t\t\t\t\t\t\t\t\t\t\tquantity remaining. If the quantity\n\t\t\t\t\t\t\t\t\t\t\tremaining is at or below your set\n\t\t\t\t\t\t\t\t\t\t\tthreshold, this item will be added\n\t\t\t\t\t\t\t\t\t\t\tto you order list.{' '}\n\t\t\t\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t\t\t\tYour threshold is currently{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.threshold === undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'unspecified. Please go to Settings to set your threshold'\n\t\t\t\t\t\t\t\t\t\t\t\t\t: thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.threshold + '%'}\n\t\t\t\t\t\t\t\t\t\t\t\t.\n\t\t\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t\t\t\t<div className='btl-img'>\n\t\t\t\t\t\t\t\t\t\t\t\t(bottle shape and slider here,\n\t\t\t\t\t\t\t\t\t\t\t\tonClick of item above, show\n\t\t\t\t\t\t\t\t\t\t\t\tbottle shape, store item info\n\t\t\t\t\t\t\t\t\t\t\t\tand quatity to DB)\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<form onSubmit={saveItemData}>\n\t\t\t\t\t\t\t\t\t\t\t<p className='quantity'>\n\t\t\t\t\t\t\t\t\t\t\t\tQuantity: <b>{+'%'}</b>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tWhich distributer do you\n\t\t\t\t\t\t\t\t\t\t\t\ttypically order this product\n\t\t\t\t\t\t\t\t\t\t\t\tfrom?\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tname='distributer'\n\t\t\t\t\t\t\t\t\t\t\t\tid='distributer-select-m'\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdistributer:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Distributer\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Distributers\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAvailable - Set your\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tDistributers on the\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSettings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tdistributers?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(dist, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{dist}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\tWhich category does this product\n\t\t\t\t\t\t\t\t\t\t\t\tbelong to?\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\t\t\tname='category'\n\t\t\t\t\t\t\t\t\t\t\t\tid='category-select-m'\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetItemData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...itemData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcategory:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<option selected disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\tSelect Category\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{thisUsersSettings[0]\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.length === 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option disabled>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo Categories Available\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t- Set your Categories on\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthe Settings Page.\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\tcategories?.map(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(cat, key) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{cat}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='save-quantity-m'\n\t\t\t\t\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tSave This Item\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t\t\t\t</center>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<Loading />\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default Inventory;\n"]},"metadata":{},"sourceType":"module"}